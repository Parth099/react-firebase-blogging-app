(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3080)}])},1216:function(t,e,n){"use strict";n.d(e,{Fs:function(){return i},l2:function(){return a},tO:function(){return s}});var r=n(5503),u=n(6257),o=n(1153),a=(0,r.ZF)({apiKey:"AIzaSyCTAWf19XUtFxaylypBNQQiKJMle-IS9fo",authDomain:"react-firebase-blogging-app.firebaseapp.com",projectId:"react-firebase-blogging-app",storageBucket:"react-firebase-blogging-app.appspot.com",messagingSenderId:"1046778962501",appId:"1:1046778962501:web:ff60eeaad6872c5605b92c"}),i=(0,u.ad)(a),s=(0,o.cF)(a)},6288:function(t,e,n){"use strict";n.d(e,{H:function(){return c},a:function(){return s}});var r=n(5893),u=n(7294),o=n(1216),a=n(7702),i=(0,u.createContext)(null),s=function(){return(0,u.useContext)(i)};function c(t){var e=t.children,n=(0,a.v0)(o.l2),s=(0,u.useState)(null),c=s[0],f=s[1],l=(0,u.useState)(!1),d=l[0],p=l[1];(0,u.useEffect)((function(){return(0,a.Aj)(n,(function(t){f(t),p(!0)}))}),[]);var v={currentUser:c,signIn:function(t,e){return(0,a.e5)(n,t,e)},createAccount:function(t,e){return(0,a.Xb)(n,t,e)},logOut:function(){return(0,a.w7)(n)},firstLoadCompleted:d};return(0,r.jsx)(i.Provider,{value:v,children:e})}},9586:function(t,e,n){"use strict";function r(t,e,n,r,u,o,a){try{var i=t[o](a),s=i.value}catch(c){return void n(c)}i.done?e(s):Promise.resolve(s).then(r,u)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(u,o){var a=t.apply(e,n);function i(t){r(a,u,o,i,s,"next",t)}function s(t){r(a,u,o,i,s,"throw",t)}i(void 0)}))}}n.d(e,{X:function(){return U},y:function(){return C}});var o,a=n(4924),i=n(4051),s=n.n(i),c=n(5893),f=n(6257),l=n(1153),d=n(7294),p=n(1216),v=n(6288),m=new Uint8Array(16);function h(){if(!o&&!(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(m)}var x=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var g=function(t){return"string"===typeof t&&x.test(t)},b=[],y=0;y<256;++y)b.push((y+256).toString(16).substr(1));var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(b[t[e+0]]+b[t[e+1]]+b[t[e+2]]+b[t[e+3]]+"-"+b[t[e+4]]+b[t[e+5]]+"-"+b[t[e+6]]+b[t[e+7]]+"-"+b[t[e+8]]+b[t[e+9]]+"-"+b[t[e+10]]+b[t[e+11]]+b[t[e+12]]+b[t[e+13]]+b[t[e+14]]+b[t[e+15]]).toLowerCase();if(!g(n))throw TypeError("Stringified UUID is invalid");return n};var j=function(t,e,n){var r=(t=t||{}).random||(t.rng||h)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=r[u];return e}return w(r)},N=(0,d.createContext)(null),C=function(){return(0,d.useContext)(N)};function U(t){var e=t.children,n=(0,v.a)(),r=(0,d.useState)(null),o=r[0],i=r[1],m=function(){var t=u(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.QT)(e);case 2:return n=t.sent,t.abrupt("return",!!n.exists()&&n.data());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=u(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,l.iH)(p.tO,e),t.next=3,(0,l.Jt)(n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=u(s().mark((function t(e,n,r){var u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,f.JU)(p.Fs,"main:profiles/".concat(e)),t.next=3,m(u);case 3:if(t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:return t.next=8,(0,f.r7)(u,(0,a.Z)({},n,r));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),g=function(){var t=u(s().mark((function t(e){var n,r,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.hJ)(p.Fs,"main:profiles"),r=(0,f.IO)(n,(0,f.ar)("username","==",e)),t.next=4,(0,f.PL)(r);case 4:return u=t.sent,t.abrupt("return",0===u.size);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=u(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.JU)(p.Fs,"main:blogs",e),t.next=3,m(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=u(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,f.JU)(p.Fs,"main:blogs",e),t.next=3,(0,f.r7)(r,n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){if((null===n||void 0===n?void 0:n.currentUser)&&n.currentUser.email){var t=n.currentUser.email,e=(0,f.JU)(p.Fs,"main:profiles/".concat(t));m(e).then((function(n){n||(0,f.pl)(e,{email:t,dateCreated:new Date,username:"",profilePictureName:"default_pfp.jpg",uuid:j()})}))}}),[n]),(0,d.useEffect)((function(){if(null===n||void 0===n?void 0:n.currentUser){var t=n.currentUser.email;return(0,f.cf)((0,f.JU)(p.Fs,"main:profiles/".concat(t)),(function(t){var e=t.data();if(e){var n={email:e.email,username:e.username,profilePictureName:e.profilePictureName,dateCreated:e.dateCreated,uuid:e.uuid};i(n)}}))}}),[n]);var w={profileData:o,getImageUrlFromStorage:h,updatePfp:function(t,e){var n=(0,l.iH)(p.tO,"".concat(e));return(0,l.KV)(n,t)},sendProfileDocUpdate:x,isUsernameAreadyUsed:g,blogsRef:(0,f.hJ)(p.Fs,"main:blogs"),getDocDataById:b,updateDocumentById:y};return(0,c.jsx)(N.Provider,{value:w,children:e})}},7653:function(t,e,n){"use strict";var r=n(7294);e.Z=function(){var t=(0,r.useState)(!1),e=t[0],n=t[1];return[e,function(){return n(!0)},function(){return n(!1)}]}},3080:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var r=n(5893),u=n(828),o=n(1664),a=n.n(o),i=n(1163),s=n(7294),c=n(6288),f=n(9586),l=n(7653),d=n(249);function p(){var t=(0,u.Z)((0,l.Z)(),3),e=t[0],n=t[1],o=t[2],p=(0,c.a)(),v=(0,f.y)(),m=null===p||void 0===p?void 0:p.currentUser,h=(0,i.useRouter)();(0,s.useEffect)((function(){if(null===p||void 0===p?void 0:p.firstLoadCompleted){var t,e=h.pathname;m||"/sign-in"==e||"/sign-up"==e||(t="/sign-in",h.push(t))}}),[h,p]);return(0,r.jsxs)("nav",{className:"flex justify-between p-4 text-sp1 border-t-4 border-sp1 border-b-sp2 border-b-2 shadow-xl bg-sp4",children:[(0,r.jsx)(a(),{href:"/",className:"header-font text-4xl font-bold",children:"Blogging App"}),(0,r.jsxs)("div",{className:"button-container flex gap-8 text-white",children:[!m&&(0,r.jsx)(a(),{href:"/sign-in",className:"auth-btn self-center font-bold text-xl hover:text-sp1",children:"Sign in"}),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{href:"/create-blog-post",className:"auth-btn self-center font-bold text-xl hover:text-sp1",children:"Create a Blog Post"}),(null===v||void 0===v?void 0:v.profileData)&&(0,r.jsx)(a(),{href:"/profile",className:"auth-btn self-center font-bold text-xl hover:text-sp1",children:"My Profile"}),(0,r.jsx)("a",{className:"auth-btn self-center font-bold text-xl hover:text-sp1 cursor-pointer",onClick:n,children:"Log out"})]}),e&&(0,r.jsx)("div",{className:"overlay",onClick:function(t){t.target.classList.contains("overlay")&&o()},children:(0,r.jsx)(d.default,{closeLogOutModal:o})})]})]})}var v=function(){return(0,r.jsx)(c.H,{children:(0,r.jsx)(f.X,{children:(0,r.jsx)(p,{})})})}},249:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var r=n(5893),u=n(6288);function o(t){var e=(0,u.a)(),n=function(){t.closeLogOutModal()};return(0,r.jsxs)("div",{className:"w-176 bg-sp4 px-8 py-8 rounded-lg shadow-lg",children:[(0,r.jsxs)("p",{className:"text-2xl",children:["Are you sure you want to ",(0,r.jsx)("span",{className:"header-font inline text-sp1",children:"Log out"})," ?"]}),(0,r.jsxs)("div",{className:"flex mt-8 text-xl gap-4",children:[(0,r.jsx)("button",{className:"model-selection",onClick:n,children:"No"}),(0,r.jsx)("button",{className:"model-selection",onClick:function(){(null===e||void 0===e?void 0:e.logOut)&&e.logOut(),n()},children:"Yes"})]})]})}},1163:function(t,e,n){t.exports=n(387)},943:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},3375:function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return r}})},828:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(3375);var u=n(1566);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||(0,r.Z)(t,e)||(0,u.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(943);function u(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}},function(t){t.O(0,[16,440,921,664,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);